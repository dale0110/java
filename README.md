几个开源的java状态机
https://github.com/hekailiang/squirrel
http://unimod.sourceforge.net/fsm-framework.pdf

 线程安全 https://github.com/NameOfTheDragon/Java-Finite-State-Machine

http://projects.spring.io/spring-statemachine/
